<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>小專la</title>
    <script src="./_js/jquery-3.6.0.js"></script>
    <link rel="stylesheet" href="" />
    <link rel="shortcut icon" href="./_img/icon/miku01.webp" />
    <style>
      body {
        position: relative;
      }
      #test {
        background-color: gold;
        height: 500px;
        width: 1920px;
        max-width: 90%;
        max-height: 100%;
        display: flex;
        flex-direction: row;
        padding: 20px;
      }
      #d1 {
        flex: 1;
        padding: 20px;
        background-color: red;
        display: flex;
        flex-direction: column;
      }
      #d1-1 {
        flex: 1;
        text-align: center;
      }
      #d1-2 {
        flex: 1;
        text-align: center;
      }
      #d1-2 input {
        opacity: 0;
        transition: opacity 1.5s;
      }
      #d1-3 {
        text-align: center;
      }
      #d1-3 input {
        appearance: auto;
      }
      #d2 {
        flex: 2;
        background-color: green;
      }
      #d3 {
        flex: 1;
        background-color: blue;
      }
      span:hover,
      span input:hover {
        cursor: pointer;
        font-weight: bolder;
      }
    </style>
  </head>
  <body onmousedown="return false" onselect="return false">
    <!--禁用滑鼠選取功能-->
    <div id="test">
      <div id="d1">
        <div id="d1-1">
          <h2>請輸入帳號密碼：</h2>
          <label for="acc">帳號：</label>
          <input type="text" id="acc" placeholder="請輸入帳號" /><br /><br />
          <label for="pwd">密碼：</label>
          <input type="text" id="pwd" placeholder="請輸入密碼" /><br /><br />
          <button id="login">登入</button>
        </div>
        <div id="d1-2">
          <h2>還沒有帳號嗎？</h2>
          <p><button id="get">獲取體驗帳號</button></p>
          <label for="">帳號：</label>
          <input type="text" id="exacc" /><br /><br />
          <label for="">密碼：</label>
          <input type="text" id="expwd" />
        </div>
        <div id="d1-3">
          <span><input type="radio" name="exp" id="Upper" value="U" />大寫生成 </span>
          <span><input type="radio" name="exp" id="lower" value="l" />小寫生成<br /></span>
        </div>
      </div>
      <div id="d2"></div>
      <div id="d3"></div>
    </div>
  </body>
  <script>
    //---------主功能------------------------------------------------------------
    //產生 A~Z
    var a = () => {
      var x = String.fromCharCode(Math.floor(Math.random() * 25) + 65);
      return x;
    };
    //產生 0~9
    var m = () => {
      var x = String.fromCharCode(Math.floor(Math.random() * 9) + 48);
      return x;
    };
    //產生帳號
    acc = () => {
      var temp = a() + a() + a() + '_' + m() + m() + m() + m() + m();
      if (check() == 'U') {
        console.log('帳號：' + temp);
      } else {
        temp = temp.toLowerCase();
        console.log('帳號：' + temp.toLowerCase());
      }
      return temp;
    };
    //產生密碼
    pwd = () => {
      var temp = '';
      for (var i = 0; i < 8; i++) {
        var x = Math.floor(Math.random() * 9);
        if (x > 4) {
          temp += a();
        } else {
          temp += m();
        }
      }
      console.log('密碼：' + temp.toLowerCase());
      return temp.toLowerCase();
    };
    //確認有沒有圈選radio
    check = () => {
      var x = $("input[name='exp']:checked").prop('value');
      switch (x) {
        case 'U':
          return 'U';
        case 'l':
          return 'l';
        default:
          return false;
      }
    };
    //獲取體驗帳號密碼
    get = () => {
      if (check() == 'U' || check() == 'l') {
        $('div input').css('opacity', '1.0');
        $('#exacc').prop('value', acc());
        $('#expwd').prop('value', pwd());
      } else {
        alert('請至少選擇一項');
      }
    };
    $().ready(function () {
      $('#get').on('click', get);
    });
    //---------小功能------------------------------------------------------------
    //禁止ctrl+a:全選 ctrl+c:複製 ctrl+v:貼上
    $(document).keydown(function (e) {
      if (e.keyCode == 65 || e.keyCode == 67 || e.keyCode == 86) {
        return false;
      }
    });
    //讓span標籤內的所有元素都能被點取 方便操作
    $('span:nth-child(1)').click(function () {
      $('input[name="exp"]')[0].checked = true;
    });
    $('span:nth-child(2)').click(function () {
      $('input[name="exp"]')[1].checked = true;
    });
    //方向鍵左右選取radio
    $(document).keydown(addEventListener, function (e) {
      if (e.keyCode == 37) {
        $('input[name="exp"]')[0].checked = true;
      } else if (e.keyCode == 39) {
        $('input[name="exp"]')[1].checked = true;
      } else {
        return false;
      }
    });
    //ctrl+enter 點選獲取體驗帳號按鈕
    $(document).keyup(addEventListener, function (e) {
      if (e.ctrlKey && e.keyCode == 13) {
        get();
      }
    });
    //F5重新整理
    $(document).keydown(addEventListener, function (e) {
      if (e.keyCode == 116) {
        window.location.assign(window.location.href);
      }
    });
    // $(document).keydown(addEventListener, function (e) {
    //   console.log(e.keyCode);
    // });
    // $(document).keydown(addEventListener, function (e) {
    //   console.log(e.keyCode);
    // });
  </script>
</html>
